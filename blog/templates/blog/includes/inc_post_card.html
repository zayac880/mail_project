{% load my_tags %}
<div class="col-md-6">
    <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
            <div class="row">
                <div class="col-8">
                    <strong class="d-inline-block mb-2 text-primary-emphasis">Featured post</strong>
                    <h3 class="mb-0">{{ post.title }}</h3>
                    <div class="row justify-content-between">
                        <div class="col-6 mb-1 text-body-secondary">{{ post.creation_date | date:'M d, h:i' }}</div>
                        <div class="col-6 mb-1 text-body-secondary text-end">Просмотры: {{ post.views_count }}</div>
                    </div>

                    <p class="card-text mb-auto">{{ post.content | truncatewords:10 }}</p>

                    <a href="{% url 'blog:post_detail' post.slug %}"
                            class="icon-link gap-1 icon-link-hover">
                        Continue reading
                        <svg class="bi">
                            <use href="#chevron-right"></use>
                        </svg>
                    </a>
                    <div class="row">
                        {% if user.is_authenticated %}
                            <div class="col">
                                <a href="{% url 'blog:update_post' post.slug %}"
                                        class="icon-link gap-1 icon-link-hover">
                                    Обновить пост
                                    <svg class="bi">
                                        <use href="#chevron-right"></use>
                                    </svg>
                                </a>
                            </div>
                            <div class="col">
                                <a href="{% url 'blog:delete_post' post.slug %}"
                                        class="icon-link gap-1 icon-link-hover">
                                    Удалить пост
                                    <svg class="bi">
                                        <use href="#chevron-right"></use>
                                    </svg>
                                </a>
                            </div>
                        {% endif %}
                    </div>
                </div>
                <div class="col-3">
                    <div class="image-container" style="width: 200px; height: 250px; overflow: hidden;">
                        <img src="
                                {% if post.image %}{{ post.image | media_path }}{% else %}https://placehold.co/200x250{% endif %}"
                                style="max-width: 100%; max-height: 100%; object-fit: cover;" class="rounded"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


